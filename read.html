<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi"></script>
</head>

<body>
    <script>
        // Load and parse the MIDI file
        const midiFilePath = "test.mid"; // Replace with your MIDI file path
        fetch(midiFilePath)
            .then(response => response.arrayBuffer())
            .then(buffer => new Uint8Array(buffer))
            .then(data => new Midi(data))
            .then(handleMidiData)
            .catch(error => console.error("Error loading MIDI file:", error));

        // Handle parsed MIDI data
        function handleMidiData(midi) {
            const tracks = midi.tracks;

            // Set the size of each note square
            const size = 15;

            // Iterate through tracks
            tracks.forEach((track, trackIndex) => {
                track.notes.forEach(note => {
                    console.log(note);
                });
            });
        }

    </script>
</body>

</html>